<stresstest>
  <testtype>querytester</testtype>
  <numloops>500</numloops>
  <toscreen>true</toscreen>
  <sleeptime>1</sleeptime>
  <logoption>debug</logoption>
  <logfilename>auto</logfilename>
  <outputfile>auto</outputfile>
  <dupe_interval>73</dupe_interval>
  <vers_incr_interval>92</vers_incr_interval>
  <operations>
    <loaddir>QA_HOME/stress/widowmaker/sample/templates</loaddir>
    <checkinterval>1000</checkinterval>
  </operations>
  <verification>
    <concurrency>5</concurrency>
    <repeat>50</repeat>
    <queries>

      <query><![CDATA[
      xquery version "1.0-ml";
      xdmp:set-request-time-limit(3600),
      let $result := cts:search(fn:collection("_COLLECTION_"), cts:word-query("*","wildcarded"))
      let $count := fn:count($result)
      let $colcount := fn:count(fn:collection("_COLLECTION_"))
      (: let $_ := xdmp:log(fn:concat("SampleQueryTester Test 1 at ", "_COLLECTION_ / _LOOP_ is ", $count),"debug") :)
      return $count eq $colcount
      ]]></query>

      <query><![CDATA[
      xquery version "1.0-ml";
      xdmp:set-request-time-limit(3600),
      let $result := cts:search(fn:collection("_COLLECTION_"), cts:element-query(xs:QName("case"),cts:and-query(())))
      let $count := fn:count($result)
      let $colcount := fn:count(fn:collection("_COLLECTION_"))
      (: let $_ := xdmp:log(fn:concat("SampleQueryTester Test 2 at ", "_COLLECTION_ / _LOOP_ is ", $count),"debug") :) 
      return $count eq $colcount
      ]]></query>

      <query><![CDATA[
      xquery version "1.0-ml";
      xdmp:set-request-time-limit(3600),
      let $result := cts:search(fn:collection("_COLLECTION_"), cts:word-query("testing*","wildcarded"))
      let $count := fn:count($result)
      let $colcount := fn:count(fn:collection("_COLLECTION_"))
      let $sub := fn:count(cts:uri-match("_COLLECTION_*template-basic.xml"))
      (: let $_ := xdmp:log(fn:concat("SampleQueryTester Test 3 at ", "_COLLECTION_ / _LOOP_ is ", $count),"debug") :) 
      return $count eq $colcount+(-1)*$sub
      ]]></query>

      <query><![CDATA[
      xquery version "1.0-ml";
      xdmp:set-request-time-limit(3600),
      let $curyear := fn:year-from-date(fn:current-date())
      let $result := cts:search(fn:collection("_COLLECTION_"), cts:element-attribute-word-query(xs:QName("case"), xs:QName("updated_at"), fn:concat($curyear,"*"), "wildcarded" ))
      let $count := fn:count($result)
      let $colcount := fn:count(fn:collection("_COLLECTION_"))
      (: let $_ := xdmp:log(fn:concat("SampleQueryTester Test 4 at ", "_COLLECTION_ / _LOOP_ is ", $count),"debug") :) 
      return $count eq $colcount
      ]]></query>

    </queries>
  </verification>
  
  <start_id>1</start_id>
  <end_id>41000</end_id>
  <testing_suffix>1</testing_suffix>
  <custom-fields>
    <custom-field>
      <class>test.utilities.ParseYesNoField</class>
      <token>__YNFIELD__</token>
      <use_abbreviation>true</use_abbreviation>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseYesNoField</class>
      <token>__YesNoFIELD__</token>
      <use_abbreviation>false</use_abbreviation>
      <use_mixed_case>true</use_mixed_case>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseYesNoField</class>
      <token>__YESNOFIELD__</token>
      <use_abbreviation>false</use_abbreviation>
      <use_mixed_case>false</use_mixed_case>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__NOW__</token>
      <format_string>yyyy-MM-dd'T'HH:mm:ss</format_string>
      <field_type>current_time</field_type>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_EXAMPLE1__</token>
      <field_type>range_explicit</field_type>
      <range_start_time>2015-06-30T11:59:00</range_start_time>
      <range_end_time>2015-07-21T23:59:59 PST</range_end_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__CUSTOM_DATETIME__</token>
      <format_string>yyyy-MM-dd'T'HH:mm:ss</format_string>
      <field_type>range_explicit</field_type>
      <range_start_time>2015-06-30T11:59:00</range_start_time>
      <range_end_time>now</range_end_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__CUSTOM_TIME__</token>
      <format_string>HH:mm:ss</format_string>
      <field_type>range_explicit</field_type>
      <range_start_time>2015-06-30T11:59:00</range_start_time>
      <range_end_time>now</range_end_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__CUSTOM_DATE__</token>
      <format_string>yyyy-MM-dd</format_string>
      <field_type>range_explicit</field_type>
      <range_start_time>2015-06-30T11:59:00</range_start_time>
      <range_end_time>now</range_end_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_EXAMPLE2__</token>
      <field_type>range_explicit</field_type>
      <range_start_time>2015-06-30T11:59:00</range_start_time>
      <range_end_time>now</range_end_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_EXAMPLE3__</token>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATE__</token>
      <format_string>YYYYMMDD</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <token>__DATE_NOW__</token>
      <format_string>YYYYMMDD</format_string>
      <class>test.utilities.ParseDateTimeField</class>
      <field_type>use_current_time</field_type>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__TIME__</token>
      <format_string>HHMMSS</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__TIME_NOW__</token>
      <format_string>HHMMSS</format_string>
      <field_type>use_current_time</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_NOW__</token>
      <format_string>yyyy-MM-dd'T'HH:mm:ss</format_string>
      <field_type>use_current_time</field_type>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME__</token>
      <format_string>yyyy-MM-dd'T'HH:mm:ss</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_TEXT_SPACE__</token>
      <format_string>MMM dd yyyy HH:mm</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_SPACE__</token>
      <format_string>yyyy-MM-dd HH:mm:ss</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_PRECISE_UTC__</token>
      <format_string>yyyy-MM-dd'T'HH:mm:ss.000000</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_PRECISE_SPACE__</token>
      <format_string>yyyy-MM-dd HH:mm:ss.SSS</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_PRECISE_SPACE4__</token>
      <format_string>yyyy-MM-dd HH:mm:ss.SSSS</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_PRECISE_TIMESTAMP__</token>
      <format_string>yyyy-MM-dd HH:mm:SS.SSSSSSS</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.ParseDateTimeField</class>
      <token>__DATETIME_PRECISE__</token>
      <format_string>yyyy-MM-dd'T'HH:mm:ss.SSS</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
      <class>test.utilities.CustomDateTimeWithOffsets</class>
      <token>__DATETIME_PRECISE_WITH_OFFSETS__</token>
      <format_string>yyyy-MM-dd'T'HH:mm:ss.SSSSSSS</format_string>
      <field_type>range_variable</field_type>
      <range_before_current_time>-86400000</range_before_current_time>
      <range_after_current_time>86400000</range_after_current_time>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomEmailGeneratorField</class>
        <token>__CUSTOM_EMAIL_STRING__</token>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomNameGeneratorField</class>
        <token>__CUSTOM_FULLNAME_STRING__</token>
      <name_data>
      <lastnames>
        <lastname>Smith</lastname>
        <lastname>Jones</lastname>
        <lastname>Murphy</lastname>
        <lastname>Ling</lastname>
        <lastname>James</lastname>
        <lastname>Encarnacion</lastname>
        <lastname>Bautista</lastname>
        <lastname>Donaldson</lastname>
        <lastname>Richardi</lastname>
        <lastname>Beane</lastname>
        <lastname>Melvin</lastname>
        <lastname>Parker</lastname>
        <lastname>Moss</lastname>
        <lastname>Paciorek</lastname>
      </lastnames>
      <firstnames>
        <firstname>Bill</firstname>
        <firstname>Bob</firstname>
        <firstname>George</firstname>
        <firstname>Sue</firstname>
        <firstname>Mary</firstname>
        <firstname>John</firstname>
        <firstname>Wayne</firstname>
        <firstname>Larry</firstname>
        <firstname>Jim</firstname>
        <firstname>Mark</firstname>
        <firstname>Marc</firstname>
        <firstname>Jose</firstname>
        <firstname>Jed</firstname>
        <firstname>Brandon</firstname>
        <firstname>Josh</firstname>
        <firstname>Gregor</firstname>
      </firstnames>
      </name_data>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__CUSTOM_WORD_STRING__</token>
        <min>2</min>
        <max>6</max>
      <words>
        <word>the</word>
        <word>was</word>
        <word>a</word>
        <word>is</word>
        <word>would</word>
        <word>could</word>
        <word>has</word>
        <word>in</word>
        <word>out</word>
        <word>over</word>
        <word>back</word>
        <word>more</word>
        <word>Smith</word>
        <word>Jones</word>
        <word>Murphy</word>
        <word>Ling</word>
        <word>James</word>
        <word>Encarnacion</word>
        <word>Bautista</word>
        <word>Donaldson</word>
        <word>Richardi</word>
        <word>Beane</word>
        <word>Melvin</word>
        <word>Parker</word>
        <word>Moss</word>
        <word>Paciorek</word>
        <word>Bill</word>
        <word>Bob</word>
        <word>George</word>
        <word>Sue</word>
        <word>Mary</word>
        <word>John</word>
        <word>Wayne</word>
        <word>Larry</word>
        <word>Jim</word>
        <word>Mark</word>
        <word>Marc</word>
        <word>Jose</word>
        <word>Jed</word>
        <word>Brandon</word>
        <word>Josh</word>
        <word>Gregor</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__CUSTOM_WORDLIST_STRING__</token>
        <min>2</min>
        <max>12</max>
      <words>
        <word>the</word>
        <word>was</word>
        <word>a</word>
        <word>is</word>
        <word>would</word>
        <word>could</word>
        <word>has</word>
        <word>in</word>
        <word>out</word>
        <word>over</word>
        <word>back</word>
        <word>more</word>
        <word>Smith</word>
        <word>Jones</word>
        <word>Murphy</word>
        <word>Ling</word>
        <word>James</word>
        <word>Encarnacion</word>
        <word>Bautista</word>
        <word>Donaldson</word>
        <word>Richardi</word>
        <word>Beane</word>
        <word>Melvin</word>
        <word>Parker</word>
        <word>Moss</word>
        <word>Paciorek</word>
        <word>Bill</word>
        <word>Bob</word>
        <word>George</word>
        <word>Sue</word>
        <word>Mary</word>
        <word>John</word>
        <word>Wayne</word>
        <word>Larry</word>
        <word>Jim</word>
        <word>Mark</word>
        <word>Marc</word>
        <word>Jose</word>
        <word>Jed</word>
        <word>Brandon</word>
        <word>Josh</word>
        <word>Gregor</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomPathField</class>
        <token>__CUSTOM_PATH_STRING__</token>
        <min>2</min>
        <max>8</max>
      <words>
        <word>the</word>
        <word>was</word>
        <word>a</word>
        <word>is</word>
        <word>would</word>
        <word>could</word>
        <word>has</word>
        <word>in</word>
        <word>out</word>
        <word>over</word>
        <word>back</word>
        <word>more</word>
        <word>Smith</word>
        <word>Jones</word>
        <word>Murphy</word>
        <word>Ling</word>
        <word>James</word>
        <word>Encarnacion</word>
        <word>Bautista</word>
        <word>Donaldson</word>
        <word>Richardi</word>
        <word>Beane</word>
        <word>Melvin</word>
        <word>Parker</word>
        <word>Moss</word>
        <word>Paciorek</word>
        <word>Bill</word>
        <word>Bob</word>
        <word>George</word>
        <word>Sue</word>
        <word>Mary</word>
        <word>John</word>
        <word>Wayne</word>
        <word>Larry</word>
        <word>Jim</word>
        <word>Mark</word>
        <word>Marc</word>
        <word>Jose</word>
        <word>Jed</word>
        <word>Brandon</word>
        <word>Josh</word>
        <word>Gregor</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__CUSTOM_DOMAIN_STRING__</token>
        <min>1</min>
        <max>1</max>
      <words>
        <word>marklogic.com</word>
        <word>sun.com</word>
        <word>oracle.com</word>
        <word>ucb.edu</word>
        <word>ca.gov</word>
        <word>db.com</word>
        <word>catalyst.com</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__CUSTOM_STATUS_STRING__</token>
        <min>1</min>
        <max>1</max>
      <words>
        <word>OPEN</word>
        <word>ASSIGNED</word>
        <word>VERIFIED</word>
        <word>CLOSED</word>
        <word>AWAITING APPROVAL</word>
        <word>APPROVED</word>
        <word>FIXED</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__CUSTOM_COMPANY_STRING__</token>
        <min>1</min>
        <max>1</max>
      <words>
        <word>MarkLogic</word>
        <word>Catalyst</word>
        <word>Deutsche Bank</word>
        <word>Beatles, Inc.</word>
        <word>Major League Baseball, LLC</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__CUSTOM_APP_STRING__</token>
        <min>1</min>
        <max>1</max>
      <words>
        <word>Word</word>
        <word>Excel</word>
        <word>PowerPoint</word>
        <word>Adobe Illustrator</word>
        <word>Outlook</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__CUSTOM_SECURITY_STRING__</token>
        <min>1</min>
        <max>1</max>
      <words>
        <word>General</word>
        <word>Public</word>
        <word>Reserved</word>
        <word>Requires Clearance</word>
        <word>Top Level</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__TRI_SUBJECT__</token>
        <min>1</min>
        <max>1</max>
      <words>
        <word>Jane</word>
        <word>Mike</word>
        <word>Peter</word>
        <word>Marry</word>
        <word>Eson</word>
        <word>Katty</word>
        <word>Stephen</word>
        <word>Joanna</word>
        <word>Kelly</word>
        <word>Sam</word>
        <word>Jacky</word>
        <word>Liam</word>
        <word>Kathy</word>
        <word>Jack</word>
        <word>Gary</word>
        <word>Justin</word>
        <word>Alex</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__TRI_PREDICATE__</token>
        <min>1</min>
        <max>1</max>
      <words>
        <word>like</word>
        <word>love</word>
        <word>born</word>
        <word>live</word>
        <word>visit</word>
        <word>study</word>
      </words>
    </custom-field>
    <custom-field>
        <class>test.utilities.ParseCustomWordListField</class>
        <token>__TRI_OBJECT__</token>
        <min>1</min>
        <max>1</max>
      <words>
        <word>London</word>
        <word>Paris</word>
        <word>Rome</word>
        <word>Tokyo</word>
        <word>Berlin</word>
        <word>Amsterdam</word>
        <word>Helsinki</word>
        <word>Athens</word>
        <word>Brussels</word>
        <word>Budapest</word>
        <word>Dublin</word>
        <word>Copenhagen</word>
        <word>Madrid</word>
        <word>Stockholm</word>
        <word>Kyiv</word>
      </words>
    </custom-field>
  </custom-fields>
  <customer_data>
    <lastnames>
      <lastname>Smith</lastname>
      <lastname>Jones</lastname>
      <lastname>Murphy</lastname>
      <lastname>Ling</lastname>
      <lastname>James</lastname>
      <lastname>Encarnacion</lastname>
      <lastname>Bautista</lastname>
      <lastname>Donaldson</lastname>
      <lastname>Richardi</lastname>
      <lastname>Beane</lastname>
      <lastname>Melvin</lastname>
      <lastname>Parker</lastname>
      <lastname>Moss</lastname>
      <lastname>Paciorek</lastname>
    </lastnames>
    <firstnames>
      <firstname>Bill</firstname>
      <firstname>Bob</firstname>
      <firstname>George</firstname>
      <firstname>Sue</firstname>
      <firstname>Mary</firstname>
      <firstname>John</firstname>
      <firstname>Wayne</firstname>
      <firstname>Larry</firstname>
      <firstname>Jim</firstname>
      <firstname>Mark</firstname>
      <firstname>Marc</firstname>
      <firstname>Jose</firstname>
      <firstname>Jed</firstname>
      <firstname>Brandon</firstname>
      <firstname>Josh</firstname>
      <firstname>Gregor</firstname>
    </firstnames>
  </customer_data>
</stresstest>
